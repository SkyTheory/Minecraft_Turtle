local version = "1.01"

function getRoute(w, d, min, max, isGoal, fold1, fold2)
  local route = {}
  local f
  if ((w - min.W) % (fold1 + fold2) < fold1) then
  -- even width
    if (d < max.D) then
      f = facing.NORTH
    elseif (w < max.W) then
      f = facing.EAST
    end 
  else
  -- odd width
    if (d > min.D) then
      f = facing.SOUTH
    elseif (w < max.W) then
      f = facing.EAST
    end
  end
  if (f ~= nil and isGoal(getAdjacentPos(f, w, d))) then
    table.insert(route, {face = f, dir = direction.FORWARD})
  end
  return route
end

dofile("/util/util")