local version = "0.70"

local diameter
local rad
local inDia
local outDia
local revise

function initSphere(dia)
  diameter = dia
  rad = (dia - 1) / 2
  inDia = (rad - 0.5)^2
  outDia = (rad + 0.5)^2
  revise = 0
end

function initHemisphere(dia)
  diameter = dia
  rad = (dia - 1) / 2
  inDia = (rad - 0.5)^2
  outDia = (rad + 0.5)^2
  revise = math.floor(diameter / 2)
end

function setSphere(min, max, setFn, state)
  for w = min.W, max.W do
    for d = min.D, max.D do
      for h = min.H, max.H do
        if (isValid(w, d, h)) then
          setFn(w, d, h, state)
        end
      end
    end
  end
  return surface
end

function isValid(w, d, h)
  sum = (w - rad)^2 + (d - rad)^2 + (h - rad + revise)^2
  return (sum >= inDia and sum <= outDia)
end

dofile("/util/util")